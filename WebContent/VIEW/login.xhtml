<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui">


<h:head>
	<title>Ingresar</title>
	<style type="text/css">
.form-signin {
	margin: 0 auto;
	max-width: 330px;
	padding: 15px;
}
</style>
</h:head>

<h:body style="padding-top: 85px;padding-bottom: 85px;"
	addLabels="false" addMessages="false">

	<b:container>
		<p:growl id="mensajes" showDetail="true" life="2000" />
		<h:form styleClass="form-signin" prependId="false">
			<h2 class="form-signin-heading">Ingresar</h2>
			<b:inputText id="usuario" placeholder="Usuario"
				value="#{loginBean.login.username}">
				<f:facet name="prepend">
					<b:icon name="user" />
				</f:facet>
			</b:inputText>
			<b:inputText id="Password" placeholder="ContraseÃ±a" type="password"
				value="#{loginBean.login.password}" required="true">
				<f:facet name="prepend">
					<b:iconAwesome name="key" />
				</f:facet>
			</b:inputText>
			<b:selectBooleanCheckbox value="true" caption="remember me" />
			<b:commandButton look="primary btn-block" value="Sign In"
				icon="log-in" size="lg" action="#{loginBean.iniciarSesion}"
				required="true" update=":mensajes"
				oncomplete="manejarLogin(xhr, status, args)" />
		</h:form>
	</b:container>
	<script type="text/javascript">
		//<![CDATA[
		function manejarLogin(xhr, status, args) {
			if (!args.validationFailed && args.estaLogeado) {
				setTimeout(function() {
					window.location = args.view;
				}, 500);
			}
		}
		//]]>
	</script>

	<ui:insert name="nbtop">
		<ui:include src="TEMPLATE/navbartop.xhtml" />
	</ui:insert>

	<b:container>
		<ui:insert name="content" />
	</b:container>

	<ui:insert name="nbtop">
		<ui:include src="TEMPLATE/navbarbottom.xhtml" />
	</ui:insert>
</h:body>

</html>
